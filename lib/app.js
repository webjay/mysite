"use strict";function getPhotos(t,e){var n=new XMLHttpRequest;n.open("GET",t,!0),n.onload=function(){n.status>=200&&n.status<400&&e(JSON.parse(n.responseText))},n.send()}function insertPhotos(t){for(var e=document.getElementById("photos"),n=e.getElementsByClassName("imgbox")[0],s=document.createDocumentFragment(),o=0;o<t.length;o++){var r=0===o?n:n.cloneNode(!0),l=r.getElementsByTagName("a")[0],a=r.getElementsByTagName("img")[0];l.setAttribute("href",t[o].link),a.setAttribute("src",t[o].images.low_resolution.url),a.setAttribute("alt",t[o].tags.join()),a.setAttribute("id","p"+t[o].id),a.onclick=clickHandlerOn.bind(null,t[o]),s.appendChild(r)}e.appendChild(s)}function clickHandlerOn(t,e){e.preventDefault();var n=e.target,s=n.parentNode.parentNode;classHolder=n.parentNode.parentNode.getAttribute("class"),s.setAttribute("class",classHolder+"mx-auto d-block"),n.setAttribute("src",t.images.standard_resolution.url),n.setAttribute("class","img-big"),s.scrollIntoView(),n.onclick=clickHandlerOff.bind(null,t)}function clickHandlerOff(t,e){e.preventDefault();var n=e.target,s=n.parentNode.parentNode;s.setAttribute("class",classHolder),n.setAttribute("class","img-std"),s.scrollIntoView(),n.onclick=clickHandlerOn.bind(null,t)}function preload(t){for(var e=0;e<t.length;e++)(new Image).setAttribute("src",t[e].images.standard_resolution.url)}function init(){getPhotos(url,function(t){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",insertPhotos.bind(null,t)):insertPhotos(t),preload(t)})}var url="https://d2nb7t6y3zkbd1.cloudfront.net/instagrams.json",classHolder;init();